<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>Profile</title>
  <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
  <link rel="stylesheet" href="/assets/css/Team-Horizontal-icons.css">
  <link rel="stylesheet" href="/assets/css/Team-Horizontal-images.css">
  <link rel="stylesheet" href="/css/homepage/custom-button.css">
  <script src="/js/auth/token-validation.js"></script>
</head>

<body>
<!-- MY NAVBAR #TODO TRY TO REUSE THIS CODE INSTEAD OF COPYING IT MULTIPLE TIMES-->
<nav class="navbar navbar-expand-md sticky-top py-3 navbar-dark" id="loggedInNav">
  <div class="container"><a class="navbar-brand d-flex align-items-center" href="/"><span class="bs-icon-sm bs-icon-circle bs-icon-primary shadow d-flex justify-content-center align-items-center me-2 bs-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-tag">
                        <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0"></path>
                        <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586 7 7L13.586 9l-7-7H2z"></path>
                    </svg></span><span>QualiTag</span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navcol-1">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="project-dashboard-user.html">Projects</a></li>
        <li class="nav-item"><a class="nav-link" href="team.html">Teams</a></li>
        <li class="nav-item"><a class="nav-link" href="artifacts.html">Artifacts</a></li>
        <li class="nav-item"><a class="nav-link" href="upload-artifact.html">Upload</a></li>
      </ul>
    </div>
<!--      logout button -->
      <a id="logoutbutton" class="btn btn-primary shadow custom-margin" role="button" href="home.html" style="margin-left: 10pt">Log Out</a>
  </div>
</nav>

<!-- USER INFORMATIONS -->
<div class="container py-4 py-xl-5">
  <div class="row row-cols-1 row-cols-md-2">
<!--    <div class="col"><img class="rounded w-100 h-100 fit-cover" style="min-height: 300px;" src="assets/img/jabba.jpg"></div>-->
    <div class="col d-flex flex-column justify-content-center p-4">
      <div class="text-center text-md-start d-flex flex-column align-items-center align-items-md-start mb-5">
        <div class="bs-icon-md bs-icon-rounded bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-3 bs-icon md"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person">
          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z"></path>
        </svg></div>
        <div>
          <p>Email: <span id="email"></span></p>
          <p>First name: <span id="name"></span></p>
          <p>Last name: <span id="surname"></span></p>
          <a class="btn btn-warning mb-3" th:href="@{/user/{username}/update(username=${username})}">Update Profile</a>
          <a class="btn btn-warning mb-3" th:href="@{/user/{username}/password(username=${username})}">Change Password</a>
          <button class="btn btn-danger" id="deleteAccount">Delete Account</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/assets/bootstrap/js/bootstrap.min.js"></script>
<script src="/assets/js/bold-and-dark.js"></script>
<script src="/js/user/get-user-data-script.js"></script>
<script src="/js/user/delete-user-script.js"></script>

<!--logout-->
<script>
  document.getElementById('logoutbutton').addEventListener('click', function (event) {
    event.preventDefault(); // Prevent the default behavior
    if (confirm('Are you sure you want to log out?')) {
      alert('User ' + localStorage.getItem('username') + ' has been logged out successfully.\n' +
              'You can now register or login again.');
      localStorage.removeItem('username');
      localStorage.removeItem('authToken');
      location.reload(); // Reload the current page
    }
  });
</script>
</body>

</html>