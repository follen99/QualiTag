<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homepage</title>
</head>
<body>
<h2>Welcome to the User Management System</h2>
<ul>
  <li><a href="/signup">Register</a></li>
  <li><a href="/signin">Login</a></li>
  <li><a id="logoutLink" href="#">Logout (not safe yet!)</a></li>
  <li><a id="profileLink" href="/signin">Profile</a></li>
  <li><a id="userProjects" href="/myprojects">My Projects</a></li>
</ul>

<script>
  document.getElementById('logoutLink').addEventListener('click', function (event) {
    event.preventDefault(); // Prevent the default behavior
    alert('User ' + localStorage.getItem('username') + ' has been logged out successfully.\n' +
        'You can now register or login again.');
    localStorage.removeItem('username');
    localStorage.removeItem('authToken');
    location.reload(); // Reload the current page
  });
</script>

<script>
  document.getElementById('profileLink').addEventListener('click', function (event) {
    const username = localStorage.getItem('username');
    if (username) {
      this.setAttribute('href', '/user/' + username);
    } else {
      event.preventDefault(); // Prevent the default behavior
      alert('Please login to access the profile page');
      window.location.href = '/signin';
    }
  });
</script>

<script>
  document.getElementById('userProjects').addEventListener('click', function (event) {
    const username = localStorage.getItem('username');
    if (username) {
      this.setAttribute('href', '/project/' + username + '/projects');
    } else {
      event.preventDefault(); // Prevent the default behavior
      alert('Please login to access the profile page');
      window.location.href = '/signin';
    }
  });
</script>
</body>
</html>
